<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>Bing Maps</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

	<!-- Bing Maps v7 -->
	<script type="text/javascript" src="http://dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0"></script>

	<!-- jQuery -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>

	<!-- Infobox extension -->
	<script src="ve7.infobox.js" type="text/javascript"></script>
	
	<!-- Optional infobox theme -->
	<link href="ve7.infobox.css" type="text/css" rel="stylesheet" />
</head>
<body>



<div id="myMap" style="position: relative; width: 800px; height: 600px;"></div>


<script type="text/javascript">
jQuery(document).ready(function($){ 

	// Create a Map using v7
	var map = new Microsoft.Maps.Map(
		document.getElementById("myMap"),
		{
			credentials: "YOUR-BING-KEY",
			center: new Microsoft.Maps.Location(-5, 30),
			zoom: 3,
			showDashboard: false,
			showLogo: false,
			showCopyright: false,
			showScalebar: false,
			enableSearchLogo: false,
			mapTypeId: Microsoft.Maps.MapTypeId.road
		}
	);


	// Pin 1: Standard autogenerated infobox 
	var pin1 = map.AddPushpin(
		new Microsoft.Maps.Location(25, 0),
		{
			text: '1',

			// Standard infobox settings
			title: 'Standard (non-sticky) infobox',
			description: 'This infobox has been generated using both the <b>title</b> and the <b>description</b> options and is styled by CSS.'
		}
	);


	// Pin 2: Custom infobox
	var pin2 = map.AddPushpin(
		new Microsoft.Maps.Location(0, 0),
		{
			text: '2',
			sticky: true,

			// Custom infobox
			infobox: $('<span>Sticky and custom infobox using arbitrary HTML code</span>')
		}
	);	
	

	// Pin 3: Custom infobox where a part of the contents use an anonymous event handler
	var custom_contents =  $('<div>Custom infobox with custom event listeners on its children. Only the button triggers the event listener, not the rest of the custom infobox.</div>');
	$('<button>This button has an anonymous event handler</button>')
	 .click(function(){ alert('The button was clicked'); })
	 .appendTo(custom_contents);

	var pin3 = map.AddPushpin(
		new Microsoft.Maps.Location(-25, 0),
		{
			text: '3',
			sticky: true,

			// Custom infobox
			infobox: custom_contents
		}
	);

	// Open the infoboxes without requiring user interaction
	pin1.ShowInfoBox();
	pin2.ShowInfoBox();
	pin3.ShowInfoBox();

});
</script>


</body>
</html>